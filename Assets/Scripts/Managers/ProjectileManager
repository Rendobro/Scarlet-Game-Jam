public class ProjectileManager
{
    public static ProjectileManager Instance;
    private void Awake()
    {
        if (Instance != null && Instance != this)
            Destroy(this.gameObject);
        else
            Instance = this;
    }


    // Needs to be updated
    public GameObject SpawnProjectile(Projectile projectile)
    {
        Transform parentT = projectile.parent.transform;
        GameObject newProjectile = GameObject.Instantiate(projectile.prefab, parentT.position, parentT.rotation, projectile.parent);
        Vector3 targetPos = newProjectile.transform.position + projectile.direction * projectile.range;
        StartCoroutine(MoveObjLinear(newProjectile, newProjectile.transform.position, targetPos, projectile.range / projectile.speed));
        return newProjectile;
    }

    private IEnumerator MoveObjLinear(GameObject obj, Vector3 startPos, Vector3 endPos, float duration)
    {
        float elapsed = 0f;
        while (elapsed < duration)
        {
            float t = elapsed / duration;
            obj.transform.position = Vector3.Lerp(startPos, endPos, t);
            elapsed += Time.deltaTime;
        }
        obj.transform.position = endPos;
        yield break;
    }
}